public void receive_broadcast(Blockchain broadcastChain) {
    lock.lock();
    try {
        broadcastQueue.add(broadcastChain);  // add the new blockchain to the broadcast queue
        condition.signalAll();  // wake up all waiting threads
    } finally {
        lock.unlock();
    }
}





public Blockchain receive_broadcast() {
    lock.lock();
    try {
        while (!broadcast_received) {
            condition.await();
        }
        Blockchain received_blockchain = broadcast_blockchain;
        broadcast_received = false;
        return received_blockchain;
    } catch (InterruptedException e) {
        e.printStackTrace();
        return null;
    } finally {
        lock.unlock();
    }
}
